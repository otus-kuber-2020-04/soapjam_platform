# Выполнено ДЗ № 1

 - [x] Основное ДЗ
 - [x] Задание со ⭐ | DNS через MetalLB
 - [x] Задание со ⭐ | Ingress для Dashboard
 - [x] Задание со ⭐ | Canary для Ingress

## В процессе сделано:
 - Настроен MetalLB в режиме IPVS, с помощью него сконфигурирован Service, который позволяет достучаться до необходимого ресурса извне кластера
 - Создан Service типа LoadBalancer, позволяющий опрашивать K8S CoreDNS снаружи кластера
 - Установлен Nginx Ingress Controller в Minikube, для него сконфигурированы все упомянутые Ingress правила в соответствии с ДЗ
 - В кластер установлен Dashboard, для него сокнфигурирован headless service и Ingress, позволяющие обратиться к дашборду по адресу <LB_IP>/dashboard
 - Сконфигурирован Ingress позволяющий обращаться к разным сервисам с помощью canary http заголовков

## Как запустить проект:
 - Поднять локальный Minikube кластер
 - Установить MetalLB в соответствии с инструкциями из текста ДЗ
 - Включить режим IPVS для kube-proxy в соответствии с инструкциями из текста ДЗ
 - Применить манифесты из папки kubernetes-networks

## Основное задание:
 - Все основные задания выполнены, необходимые манифесты внутри папки kubernetes-networks

## Задание со ⭐ | DNS через MetalLB
 - Для проверки задания необходимо применить манифесты из папки coredns, а затем выполнить nslookup для существующего сервиса

## Задание со ⭐ | Ingress для Dashboard
 - Для проверки задания необходимо применить манифесты из папки dashboard, а затем открыть в браузере (или в консоле с помощью curl) ссылку <LB_IP>/dashboard , где LB_IP - это адрес Service для Nginx Ingress Controller

## Задание со ⭐ | Canary для Ingress
 - Для проверки задания необходимо применить манифесты из папки canary, а затем выполнить в командной строке несколько запросов:
 ```curl -H "canary: true" -H "Host: canary-test" http://<LB_IP>/```
 ```curl -H "canary: any_value" -H "Host: canary-test" http://<LB_IP>/```
 - После выполнения первой команды в логах подов из неймспейса canary можно будет увидеть входящие реквесты
 - После выполнения второй команды в логах подов из неймспейса live можно будет увидеть входящие реквесты

## PR checklist:
 - [x] Выставлен label с темой домашнего задания
